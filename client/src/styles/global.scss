:root {
  --glass-color: rgba(21, 27, 46, 0.6);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-border-light: rgba(255, 255, 255, 0.15);
  /* 下雪夜晚背景色調 */
  --gradient-start: #0f1419;
  --gradient-mid: #1a2332;
  --gradient-end: #0f1419;
  /* 柔和的聖誕節顏色 */
  --christmas-red: #c85a5a;
  --christmas-red-light: #d67a7a;
  --christmas-green: #6b9b7a;
  --christmas-green-light: #7fb896;
  --christmas-gold: #d4a574;
  --christmas-gold-light: #e5b888;
}

@property --snow-phase {
  syntax: '<angle>';
  inherits: false;
  initial-value: 0deg;
}

@property --snow-fall-angle {
  syntax: '<angle>';
  inherits: false;
  initial-value: 0deg;
}

body {
  min-height: 100vh;
  background-image: 
    /* 柔和的聖誕節色調光暈 */
    radial-gradient(circle at 10% 20%, rgba(200, 90, 90, 0.06), transparent 60%),
    radial-gradient(circle at 90% 80%, rgba(107, 155, 122, 0.06), transparent 60%),
    radial-gradient(circle at 50% 50%, rgba(212, 165, 116, 0.04), transparent 70%),
    /* 夜晚雪景背景 */
    linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-mid) 50%, var(--gradient-end) 100%);
  background-size: 
    100% 100%,
    100% 100%,
    100% 100%,
    100% 100%;
  background-attachment: scroll;
  position: relative;
  overflow-x: hidden;
}

/* 下雪動畫容器 */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  background: transparent;
  overflow: hidden;
}

/* 創建多層雪花效果 */
body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  background-image: 
    /* 大雪花 - 更隨機的水平位置 */
    radial-gradient(circle at 3.2% 3%, rgba(255, 255, 255, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 18.7% 12%, rgba(255, 255, 255, 0.6) 1px, transparent 1px),
    radial-gradient(circle at 29.3% 6%, rgba(255, 255, 255, 0.7) 1px, transparent 1px),
    radial-gradient(circle at 41.6% 18%, rgba(255, 255, 255, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 55.4% 4%, rgba(255, 255, 255, 0.6) 1px, transparent 1px),
    radial-gradient(circle at 63.1% 15%, rgba(255, 255, 255, 0.7) 1px, transparent 1px),
    radial-gradient(circle at 77.8% 2%, rgba(255, 255, 255, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 84.2% 11%, rgba(255, 255, 255, 0.6) 1px, transparent 1px),
    radial-gradient(circle at 91.9% 8%, rgba(255, 255, 255, 0.7) 1px, transparent 1px),
    /* 中雪花 - 更隨機的水平位置 */
    radial-gradient(circle at 7.3% 27%, rgba(255, 255, 255, 0.5) 0.8px, transparent 0.8px),
    radial-gradient(circle at 22.1% 33%, rgba(255, 255, 255, 0.6) 0.8px, transparent 0.8px),
    radial-gradient(circle at 35.7% 19%, rgba(255, 255, 255, 0.5) 0.8px, transparent 0.8px),
    radial-gradient(circle at 46.2% 31%, rgba(255, 255, 255, 0.6) 0.8px, transparent 0.8px),
    radial-gradient(circle at 58.9% 23%, rgba(255, 255, 255, 0.5) 0.8px, transparent 0.8px),
    radial-gradient(circle at 69.4% 35%, rgba(255, 255, 255, 0.6) 0.8px, transparent 0.8px),
    radial-gradient(circle at 76.3% 21%, rgba(255, 255, 255, 0.5) 0.8px, transparent 0.8px),
    radial-gradient(circle at 87.6% 29%, rgba(255, 255, 255, 0.6) 0.8px, transparent 0.8px),
    radial-gradient(circle at 94.1% 26%, rgba(255, 255, 255, 0.5) 0.8px, transparent 0.8px),
    /* 小雪花 - 更隨機的水平位置 */
    radial-gradient(circle at 1.8% 37%, rgba(255, 255, 255, 0.4) 0.5px, transparent 0.5px),
    radial-gradient(circle at 9.4% 43%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 16.2% 35%, rgba(255, 255, 255, 0.4) 0.5px, transparent 0.5px),
    radial-gradient(circle at 24.7% 41%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 32.3% 38%, rgba(255, 255, 255, 0.4) 0.5px, transparent 0.5px),
    radial-gradient(circle at 39.6% 45%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 47.8% 36%, rgba(255, 255, 255, 0.4) 0.5px, transparent 0.5px),
    radial-gradient(circle at 54.1% 42%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 61.7% 39%, rgba(255, 255, 255, 0.4) 0.5px, transparent 0.5px),
    radial-gradient(circle at 68.9% 44%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 75.2% 37%, rgba(255, 255, 255, 0.4) 0.5px, transparent 0.5px),
    radial-gradient(circle at 82.6% 43%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 88.3% 40%, rgba(255, 255, 255, 0.4) 0.5px, transparent 0.5px),
    radial-gradient(circle at 95.7% 46%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 98.4% 38%, rgba(255, 255, 255, 0.4) 0.5px, transparent 0.5px);
  background-size: 
    /* 大雪花 - 隨機大小 */
    200px 200px, 185px 185px, 215px 215px, 195px 195px, 205px 205px,
    198px 198px, 182px 182px, 218px 218px, 192px 192px,
    /* 中雪花 - 隨機大小 */
    152px 152px, 158px 158px, 142px 142px, 168px 168px, 153px 153px,
    147px 147px, 163px 163px, 151px 151px, 157px 157px,
    /* 小雪花 - 隨機大小 */
    102px 102px, 108px 108px, 97px 97px, 103px 103px, 99px 99px,
    111px 111px, 96px 96px, 104px 104px, 101px 101px, 109px 109px,
    98px 98px, 106px 106px, 100px 100px, 112px 112px, 95px 95px,
    107px 107px, 99px 99px, 110px 110px, 97px 97px, 105px 105px;
  background-position: 
    /* 隨機的起始位置，打破水平規律 */
    0% 0%, 12.3% 0%, 23.7% 0%, 35.1% 0%, 46.8% 0%,
    58.2% 0%, 69.6% 0%, 81.4% 0%, 92.7% 0%,
    5.4% 0%, 17.8% 0%, 28.3% 0%, 39.7% 0%, 51.2% 0%,
    62.6% 0%, 74.1% 0%, 85.9% 0%, 96.3% 0%,
    2.1% 0%, 11.5% 0%, 19.8% 0%, 27.4% 0%, 33.9% 0%,
    42.6% 0%, 49.2% 0%, 56.7% 0%, 64.3% 0%, 71.8% 0%,
    79.4% 0%, 86.9% 0%, 93.5% 0%, 97.8% 0%, 99.1% 0%;
  animation: snowfall 15s linear infinite;
  animation-delay: 0s;
  opacity: 0.6;
}

.glass-panel {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.05) 100%
  );
  border: 1px solid var(--glass-border);
  border-radius: 1.5rem;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.1),
    0 0 0 1px rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  padding: 1.5rem;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  z-index: 1;
}

.glass-panel:hover {
  border-color: var(--glass-border-light);
  box-shadow: 
    0 12px 48px rgba(200, 90, 90, 0.15),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.15),
    0 0 0 1px rgba(107, 155, 122, 0.08);
}

.glow-icon {
  position: relative;
  animation: float 6s ease-in-out infinite;
}

.glow-icon::after {
  content: '';
  position: absolute;
  inset: -40%;
  border-radius: 999px;
  z-index: -1;
  background: radial-gradient(circle, rgba(200, 90, 90, 0.25), rgba(107, 155, 122, 0.2), rgba(212, 165, 116, 0.15), transparent 70%);
  opacity: 0.6;
  filter: blur(25px);
  animation: pulse 3s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-15px); }
}

.countdown-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
}

.story-card {
  border-radius: 1.5rem;
  overflow: hidden;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0.02) 100%
  );
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.story-card:hover {
  border-color: rgba(200, 90, 90, 0.3);
  box-shadow: 0 12px 48px rgba(200, 90, 90, 0.15);
  transform: translateY(-4px);
}

.story-card__content {
  padding: 1.25rem;
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.2) 0%,
    rgba(0, 0, 0, 0.4) 100%
  );
}

.timeline-track {
  position: relative;
  padding-left: 1.5rem;
}

.timeline-track::before {
  content: '';
  position: absolute;
  left: 0.5rem;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(180deg, #c85a5a, #6b9b7a, #d4a574);
  opacity: 0.5;
}

/* 按鈕樣式增強 - 柔和的聖誕節風格 */
.btn-primary {
  background: linear-gradient(135deg, #c85a5a 0%, #b84a4a 100%);
  box-shadow: 
    0 4px 12px rgba(200, 90, 90, 0.25),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-primary:hover {
  background: linear-gradient(135deg, #d67a7a 0%, #c85a5a 100%);
  box-shadow: 
    0 6px 20px rgba(200, 90, 90, 0.3),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

.btn-gradient {
  background: linear-gradient(135deg, #6b9b7a 0%, #5a8a6a 100%);
  box-shadow: 
    0 4px 12px rgba(107, 155, 122, 0.25),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.15);
}

.btn-gradient:hover {
  background: linear-gradient(135deg, #7fb896 0%, #6b9b7a 100%);
  box-shadow: 
    0 6px 20px rgba(107, 155, 122, 0.3),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

/* 輸入框樣式 */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="url"],
textarea,
select {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  transition: all 0.3s ease;
}

input:focus,
textarea:focus,
select:focus {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(200, 90, 90, 0.5);
  box-shadow: 0 0 0 3px rgba(200, 90, 90, 0.1);
  outline: none;
}

/* 日曆樣式 */
.rdp {
  --rdp-cell-size: 44px;
  --rdp-accent-color: #22d3ee;
  --rdp-background-color: transparent;
  color: #e2e8f0;
}

.rdp-day_selected,
.rdp-day_selected:focus-visible,
.rdp-day_selected:hover {
  background: linear-gradient(135deg, #c85a5a 0%, #b84a4a 100%);
  color: #ffffff;
  box-shadow: 0 4px 12px rgba(200, 90, 90, 0.25);
}

.rdp-day:hover {
  background-color: rgba(200, 90, 90, 0.15);
  border-radius: 0.5rem;
}

/* Toast 動畫 */
@keyframes slide-in-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out;
}

/* 滾動條樣式 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #c85a5a 0%, #6b9b7a 100%);
  border-radius: 4px;
  transition: background 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, #d67a7a 0%, #7fb896 100%);
}

/* 雪花飄落動畫 - 均勻速度，平滑的水平移動 */
@keyframes snowfall {
  0% {
    transform: translateY(-100vh) translateX(0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  50% {
    transform: translateY(0vh) translateX(8px);
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) translateX(-5px);
    opacity: 0;
  }
}

@keyframes snowfall2 {
  0% {
    transform: translateY(-100vh) translateX(0);
    opacity: 0;
  }
  10% {
    opacity: 0.8;
  }
  50% {
    transform: translateY(0vh) translateX(-10px);
  }
  90% {
    opacity: 0.8;
  }
  100% {
    transform: translateY(100vh) translateX(6px);
    opacity: 0;
  }
}

@keyframes snowfall3 {
  0% {
    transform: translateY(-100vh) translateX(0);
    opacity: 0;
  }
  15% {
    opacity: 0.9;
  }
  50% {
    transform: translateY(0vh) translateX(12px);
  }
  85% {
    opacity: 0.9;
  }
  100% {
    transform: translateY(100vh) translateX(-8px);
    opacity: 0;
  }
}

@keyframes snowfall4 {
  0% {
    transform: translateY(-100vh) translateX(0);
    opacity: 0;
  }
  5% {
    opacity: 0.7;
  }
  50% {
    transform: translateY(0vh) translateX(-15px);
  }
  95% {
    opacity: 0.7;
  }
  100% {
    transform: translateY(100vh) translateX(10px);
    opacity: 0;
  }
}

/* 額外的雪花層 - 不同速度和動畫 */
.snow-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  background-image: 
    radial-gradient(circle at 4.2% 9%, rgba(255, 255, 255, 0.6) 0.6px, transparent 0.6px),
    radial-gradient(circle at 15.7% 4%, rgba(255, 255, 255, 0.7) 0.6px, transparent 0.6px),
    radial-gradient(circle at 23.4% 13%, rgba(255, 255, 255, 0.6) 0.6px, transparent 0.6px),
    radial-gradient(circle at 32.8% 7%, rgba(255, 255, 255, 0.7) 0.6px, transparent 0.6px),
    radial-gradient(circle at 41.3% 11%, rgba(255, 255, 255, 0.6) 0.6px, transparent 0.6px),
    radial-gradient(circle at 53.6% 5%, rgba(255, 255, 255, 0.7) 0.6px, transparent 0.6px),
    radial-gradient(circle at 61.9% 14%, rgba(255, 255, 255, 0.6) 0.6px, transparent 0.6px),
    radial-gradient(circle at 70.4% 8%, rgba(255, 255, 255, 0.7) 0.6px, transparent 0.6px),
    radial-gradient(circle at 82.7% 12%, rgba(255, 255, 255, 0.6) 0.6px, transparent 0.6px),
    radial-gradient(circle at 91.3% 6%, rgba(255, 255, 255, 0.7) 0.6px, transparent 0.6px),
    radial-gradient(circle at 98.6% 10%, rgba(255, 255, 255, 0.6) 0.6px, transparent 0.6px);
  background-size: 
    120px 120px, 130px 130px, 115px 115px, 125px 125px, 120px 120px,
    130px 130px, 115px 115px, 125px 125px, 120px 120px, 130px 130px,
    115px 115px, 125px 125px, 118px 118px, 128px 128px;
  background-position: 
    3.1% 0%, 14.8% 0%, 22.3% 0%, 31.7% 0%, 40.2% 0%,
    52.4% 0%, 60.8% 0%, 69.1% 0%, 81.5% 0%, 90.2% 0%, 97.3% 0%;
  animation: snowfall2 18s linear infinite;
  animation-delay: -2s;
  opacity: 0.5;
}

.snow-layer-fast {
  background-image: 
    radial-gradient(circle at 1.7% 3%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 8.4% 1%, rgba(255, 255, 255, 0.6) 0.5px, transparent 0.5px),
    radial-gradient(circle at 16.3% 6%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 28.6% 2%, rgba(255, 255, 255, 0.6) 0.5px, transparent 0.5px),
    radial-gradient(circle at 36.9% 7%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 45.2% 4%, rgba(255, 255, 255, 0.6) 0.5px, transparent 0.5px),
    radial-gradient(circle at 57.8% 1%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 64.7% 8%, rgba(255, 255, 255, 0.6) 0.5px, transparent 0.5px),
    radial-gradient(circle at 75.4% 3%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 83.9% 9%, rgba(255, 255, 255, 0.6) 0.5px, transparent 0.5px),
    radial-gradient(circle at 92.6% 5%, rgba(255, 255, 255, 0.5) 0.5px, transparent 0.5px),
    radial-gradient(circle at 97.3% 2%, rgba(255, 255, 255, 0.6) 0.5px, transparent 0.5px);
  background-size: 
    90px 90px, 100px 100px, 85px 85px, 95px 95px, 88px 88px,
    102px 102px, 87px 87px, 98px 98px, 92px 92px, 96px 96px,
    89px 89px, 101px 101px, 93px 93px;
  background-position: 
    1.2% 0%, 7.8% 0%, 15.1% 0%, 27.3% 0%, 35.6% 0%,
    43.9% 0%, 56.4% 0%, 63.2% 0%, 74.1% 0%, 82.7% 0%,
    91.3% 0%, 96.8% 0%;
  animation: snowfall3 12s linear infinite;
  animation-delay: -5s;
  opacity: 0.4;
}

@supports (transform: translateX(calc(sin(1deg) * 1px))) {
  body::after,
  .snow-layer,
  .snow-layer-fast {
    --snow-phase: 0deg;
    --snow-fall-angle: 0deg;
    --snow-sway: 18px;
    --snow-duration: 18s;
    --snow-opacity: 0.6;
    animation: snowfall-physics var(--snow-duration) linear infinite;
    transform: translate3d(
      calc(sin(var(--snow-phase)) * var(--snow-sway)),
      calc((1 - cos(var(--snow-fall-angle))) * 50vh),
      0
    );
    will-change: transform;
  }

  body::after {
    --snow-sway: 24px;
    --snow-duration: 18s;
    --snow-opacity: 0.6;
  }

  .snow-layer {
    --snow-sway: 16px;
    --snow-duration: 22s;
    --snow-opacity: 0.45;
  }

  .snow-layer-fast {
    --snow-sway: 30px;
    --snow-duration: 14s;
    --snow-opacity: 0.35;
  }

  @keyframes snowfall-physics {
    0% {
      --snow-phase: 0deg;
      --snow-fall-angle: 0deg;
      opacity: 0;
    }
    15% {
      opacity: var(--snow-opacity);
    }
    100% {
      --snow-phase: 1080deg;
      --snow-fall-angle: 180deg;
      opacity: 0;
    }
  }
}
